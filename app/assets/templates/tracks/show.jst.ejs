<% var author = track.author() %>

<div class="header"></div>

<div class="player-area group">

  <div class="player group">
    <button class="play-pause loading">
      <div class="loading-animation">
        <span class="one"></span><span class="two"></span><span class="three"></span>
      </div>
    </button>
    <div class="name-details">
      <div class="display-name"><a href="#users/<%= author.get('id') %>"><%= author.escape('display_name') %></a></div>
      <br>
      <div class="track-title"><%= track.escape('title') %></div>
    </div>
  </div>

  <div id="audio-wave">
    <div id="progress-bar">
      <div class="progress-bar"></div>
    </div>
    <div class="track-times hidden">
      <div class="cursor-time"></div>
      <div class="end-time"></div>
    </div>
  </div>

  <% if (track.get('image_url')) { %>
    <img class="main" src="<%= track.get('image_url') %>" width="340" height="340" />
  <% } else { %>
    <img class="main" src="<%= author.get('image_url') %>" width="340" height="340" />
  <% } %>

</div>

<br>

<div class="comment-area">

  <div class="upper-comment-area">

    <div class="comment-form-area">

    </div>

    <br>

    <div class="info-and-buttons">

      <% if (CloudSound.currentUser.isSignedIn()) { %>
        <button class="like-button"></button>
      <% } %>

      <ul class="track-info">
        <li class="plays">Plays: <%= track.get('plays') %></li>
        <li class="likes">Likes: <%= track.likes().length %></li>
      </ul>

    </div>

  </div>

  <br>

  <div class="lower-comment-area group">

    <div class="author-info-area">

      <img class="mini" src="<%= author.get('image_url') %>" width="120" height="120" />

      <br>

      <div class="author-name"><%= author.get('display_name') %></div>

      <br>

      <ul class="author-info">
        <li>Followers: <%= track.author.followers %></li>
        <li>Tracks: <%= author.get('tracks') %></li>
        <li>Followers: <%= author.get('followers') %></li>
      </ul>

    </div>

  </div>

</div>
